<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
<title>JegasAPI 2016-10-03: ug_pixelgrid</title>
<meta name="generator" content="PasDoc 0.14.0">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script type="text/javascript" src="tipuesearch/jquery.min.js"></script>
<script type="text/javascript" src="tipuesearch/tipuesearch_data.js"></script>
<link rel="stylesheet" type="text/css" href="tipuesearch/tipuesearch.css">
<script type="text/javascript" src="tipuesearch/tipuesearch_set.js"></script>
<script type="text/javascript" src="tipuesearch/tipuesearch.js"></script>

<link rel="StyleSheet" type="text/css" href="pasdoc.css">
</head>
<body>
<table class="container"><tr><td class="navigation">
<h2>JegasAPI 2016-10-03</h2><p><a href="AllUnits.html" class="navigation">Units</a></p><p><a href="ClassHierarchy.html" class="navigation">Class Hierarchy</a></p><p><a href="AllClasses.html" class="navigation">Classes, Interfaces, Objects and Records</a></p><p><a href="AllTypes.html" class="navigation">Types</a></p><p><a href="AllVariables.html" class="navigation">Variables</a></p><p><a href="AllConstants.html" class="navigation">Constants</a></p><p><a href="AllFunctions.html" class="navigation">Functions and Procedures</a></p><p><a href="AllIdentifiers.html" class="navigation">Identifiers</a></p><p><form class="search-form" action="_tipue_results.html"><div class="search-input"><input type="text" name="q" id="tipue_search_input"></div><div class="search-button"><input type="button" id="tipue_search_button" onclick="this.form.submit();"></div></form>
<div style="clear: both"></div>

<script>
$(document).ready(function() {
    $('#tipue_search_input').tipuesearch({
        /* 10 items to display seems standard */
        'show': 10,
        /* For PasDoc docs, showing urls is not very useful,
           since the page title already shows the unit and identifier. */
        'showURL': false
    });
});
</script>
</p></td><td class="content">
JegasAPI - www.jegas.com
<h1 class="unit">Unit ug_pixelgrid</h1>
<table class="sections wide_list">
<tr>
<td><a class="section" href="#PasDoc-Description">Description</a></td><td><a class="section" href="#PasDoc-Uses">Uses</a></td><td><a class="section" href="#PasDoc-Classes">Classes, Interfaces, Objects and Records</a></td><td>Functions and Procedures</td><td>Types</td><td>Constants</td><td>Variables</td></tr></table>
<a name="PasDoc-Description"></a><h2 class="description">Description</h2>
<p>
Graphics Related - Bitmap manipulation

<p>There are functions documented, but here is the documentation for BITMAP graphic file formats:

<p>DOCUMENTATION FOR BITMAP FORMAT *.bmp

<p>Introduction: The .bmp file format (sometimes also saved as .dib) is the standard for a Windows 3.0 or later DIB(device independent bitmap) file. It may use compression (though I never came across a compressed .bmp-file) and is (by itself) not capable of storing animation. However, you can animate a bitmap using different methods but you have to write the code which performs the animation. There are different ways to compress a .bmp-file, but I won'<a class="normal" href="t.html">t</a> explain them here because they are so rarely used. The image data itself can either contain pointers to entries in a color table or literal RGB values (this is explained later).

<p>Basic structure: A .bmp file contains of the following data structures:

<p>BITMAPFILEHEADER bmfh; BITMAPINFOHEADER bmih; RGBQUAD aColors[]; BYTE aBitmapBits[];

<p>bmfh contains some information about the bitmap file (about the file, not about the bitmap itself). bmih contains information about the bitmap such as size, colors,... The aColors array contains a color table. The rest is the image data, which format is specified by the bmih structure.

<p>Exact structure: The following tables give exact information about the data structures and also contain the settings for a bitmap with the following dimensions: size 100x100, 256 colors, no compression. The start-value is the position of the byte in the file at which the explained data element of the structure starts, the size-value contains the nuber of bytes used by this data element, the name-value is the name assigned to this data element by the Microsoft API documentation. Stdvalue stands for standard value. There actually is no such a thing as a standard value but this is the value Paint assigns to the data element if using the bitmap dimensions specified above (100x100x256). The meaning-column gives a short explanation of the purpose of this data element.

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; The BITMAPFILEHEADER: &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; start size name stdvalue purpose 1 2 bfType 19778 must always be set to 'BM' to declare that this is a .bmp-file. 3 4 bfSize ?? specifies the size of the file in bytes 7 2 bfReserved1 0 must always be set to zero. 9 2 bfReserved2 0 must always be set to zero. 11 4 bfOffBits 1078 specifies the offset from the beginning of the file to the bitmap data. &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; The BITMAPINFOHEADER: &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; start size name stdvalue purpose 15 4 biSize 40 specifies the size of the BITMAPINFOHEADER structure, in bytes. 19 4 biWidth 100 specifies the width of the image, in pixels. 23 4 biHeight 100 specifies the height of the image, in pixels. 27 2 biPlanes 1 specifies the number of planes of the target device, must be set to zero. 29 2 biBitCount 8 specifies the number of bits per pixel. 31 4 biCompression 0 Specifies the type of compression, usually set to zero (no compression). 35 4 biSizeImage 0 Specifies the size of the image data, in bytes. If there is no compression, it is valid to set this member to zero. 39 4 biXPelsPerMeter 0 specifies the the horizontal pixels per meter on the designated targer device, usually set to zero. 43 4 biYPelsPerMeter 0 specifies the the vertical pixels per meter on the designated targer device, usually set to zero. 47 4 biClrUsed 0 specifies the number of colors used in the bitmap, if set to zero the number of colors is calculated using the biBitCount member. 51 4 biClrImportant 0 specifies the number of color that are 'important' for the bitmap, if set to zero, all colors are important. &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;

<p>Note that biBitCount actually specifies the color resolution of the bitmap. The possible values are: 1 (<a class="normal" href="uc_console.html#Black">black</a>/<a class="normal" href="uc_console.html#White">white</a>); 4 (16 colors); 8 (256 colors); 24 (16.7 million colors). The biBitCount data element also decides if there is a color table in the file and how it looks like. In 1-bit mode the color table has to contain 2 entries (usually <a class="normal" href="uc_console.html#White">white</a> and <a class="normal" href="uc_console.html#Black">black</a>). If a bit in the image data is clear, it points to the first palette entry. If the bit is set, it points to the second. In 4-bit mode the color table must contain 16 colors. Every byte in the image data represents two pixels. The byte is split into the higher 4 bits and the lower 4 bits and each value of them points to a palette entry. There are also standard colors for 16 colors mode (16 out of Windows 20 reserved colors (without the entries 8, 9, 246, 247)). Note that you do not need to use this standard colors if the bitmap is to be displayed on a screen which support 256 colors or more, however (nearly) every 4-bit image uses this standard colors. In 8-bit mode every byte represents a pixel. The value points to an entry in the color table which contains 256 entries (for details see Palettes in Windows. In 24-bit mode three bytes represent one pixel. The first byte represents the <a class="normal" href="uc_console.html#Red">red</a> part, the second the <a class="normal" href="uc_console.html#Green">green</a> and the third the <a class="normal" href="uc_console.html#Blue">blue</a> part. There is no need for a palette because every pixel contains a literal RGB-value, so the palette is omitted.

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; The RGBQUAD array: &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; The following table shows a single RGBQUAD structure: start size name stdvalue purpose 1 1 rgbBlue - specifies the <a class="normal" href="uc_console.html#Blue">blue</a> part of the color. 2 1 rgbGreen - specifies the <a class="normal" href="uc_console.html#Green">green</a> part of the color. 3 1 rgbRed - specifies the <a class="normal" href="uc_console.html#Red">red</a> part of the color. 4 1 rgbReserved - must always be set to zero. &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;

<p>Note that the term palette does not refer to a RGBQUAD array, which is called color table instead. Also note that, in a color table (RGBQUAD), the specification for a color starts with the <a class="normal" href="uc_console.html#Blue">blue</a> byte. In a palette a color always starts with the <a class="normal" href="uc_console.html#Red">red</a> byte. There is no simple way to map the whole color table into a LOGPALETTE structure, which you will need to display the bitmap. You will have to write a function that copies byte after byte.

<p>The pixel data: It depens on the BITMAPINFOHEADER structure how the pixel data is to be interpreted (see above). It is important to know that the rows of a DIB are stored upside down. That means that the uppest row which appears on the screen actually is the lowest row stored in the bitmap.</p>
<a name="PasDoc-Uses"></a><h2 class="uses">Uses</h2>
<ul class="useslist"><li>sysutils</li><li><a  href="ug_common.html">ug_common</a></li><li><a  href="ug_jegas.html">ug_jegas</a></li><li><a  href="ug_rgba.html">ug_rgba</a></li><li><a  href="ug_xyz.html">ug_xyz</a></li></ul><h2 class="overview">Overview</h2>
<a name="PasDoc-Classes"></a><h3 class="cio">Classes, Interfaces, Objects and Records</h3>
<table class="classestable wide_list">
<tr class="listheader">
<th class="itemname">Name</th>
<th class="itemdesc">Description</th>
</tr>
<tr class="list">
<td class="itemname">Class&nbsp;<a class="bold" href="ug_pixelgrid.TPIXELGRID.html"><code>TPIXELGRID</code></a></td>
<td class="itemdesc">Note: The Memory Block Format is the same as a IMAGE that is 4Bytes Per Pixel.</td>
</tr>
</table>
JegasAPI - www.jegas.com
<hr noshade size="1"><span class="appinfo"><em>Generated by <a  href="http://pasdoc.sourceforge.net/">PasDoc 0.14.0</a>. </em>
</span>
</td></tr></table></body></html>

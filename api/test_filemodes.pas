{=============================================================================
|    _________ _______  _______  ______  _______             Get out of the  |
|   /___  ___// _____/ / _____/ / __  / / _____/               Mainstream... |
|      / /   / /__    / / ___  / /_/ / / /____                Jump into the  |
|     / /   / ____/  / / /  / / __  / /____  /                   Jetstream   |
|____/ /   / /___   / /__/ / / / / / _____/ /                                |
/_____/   /______/ /______/ /_/ /_/ /______/                                 |
|         Virtually Everything IT(tm)                         info@jegas.com |
==============================================================================
                       Copyright(c)2016 Jegas, LLC
=============================================================================}

//=============================================================================
{ }
// Program to experiment and test the various freepascal filemodes.
program test_filemodes;
//=============================================================================


//=============================================================================
// Global Directives
//=============================================================================
{$INCLUDE i_jegas_macros.pp}
//=============================================================================



//=============================================================================
uses
//=============================================================================
  dos;
//=============================================================================

//=============================================================================
const
//=============================================================================
   { possible values for filemode }
   READ_ONLY = 0;
   WRITE_ONLY = 1;
   READ_WRITE = 2;
//=============================================================================

//=============================================================================
var
//=============================================================================
   oldfilemode : byte;
   f: file;
   s:string;
//=============================================================================

//=============================================================================
begin
//=============================================================================
   assign(f,'./data/test.xml');
   oldfilemode := filemode;
   { reset will open read-only }
   filemode := READ_ONLY;
   reset(f,1);
   { restore file mode value }
   filemode := oldfilemode;
   // ...
   close(f);
   GetDir(0,s);
   writeln('Current Dir:',s);
end.
//=============================================================================

//*****************************************************************************
// EOF
//*****************************************************************************


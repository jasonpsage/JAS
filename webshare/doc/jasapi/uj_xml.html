<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
<title>JAS/JegasCRM Developer Reference: uj_xml</title>
<meta name="generator" content="PasDoc 0.14.0">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="StyleSheet" type="text/css" href="pasdoc.css">
</head>
<body>
<table class="container"><tr><td class="navigation">
<h2>JAS/JegasCRM Developer Reference</h2><p><a href="AllUnits.html" class="navigation">Units</a></p><p><a href="ClassHierarchy.html" class="navigation">Class Hierarchy</a></p><p><a href="AllClasses.html" class="navigation">Classes, Interfaces, Objects and Records</a></p><p><a href="AllTypes.html" class="navigation">Types</a></p><p><a href="AllVariables.html" class="navigation">Variables</a></p><p><a href="AllConstants.html" class="navigation">Constants</a></p><p><a href="AllFunctions.html" class="navigation">Functions and Procedures</a></p><p><a href="AllIdentifiers.html" class="navigation">Identifiers</a></p></td><td class="content">
JegasAPI - Jegas, LLC - Copyright(c)2016
<h1 class="unit">Unit uj_xml</h1>
<table class="sections wide_list">
<tr>
<td><a class="section" href="#PasDoc-Description">Description</a></td><td>Uses</td><td>Classes, Interfaces, Objects and Records</td><td><a class="section" href="#PasDoc-FuncsProcs">Functions and Procedures</a></td><td>Types</td><td>Constants</td><td>Variables</td></tr></table>
<a name="PasDoc-Description"></a><h2 class="description">Description</h2>
<p>
XML API Calls and IWF XML Response Generation</p>
<a name="PasDoc-Uses"></a><h2 class="overview">Overview</h2>
<a name="PasDoc-FuncsProcs"></a><h3 class="summary">Functions and Procedures</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_Dispatch">JASAPI_Dispatch</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#jasapi_helloworld">jasapi_helloworld</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#jasapi_validatesession">jasapi_validatesession</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#jasapi_createsession">jasapi_createsession</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#jasapi_removesession">jasapi_removesession</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#jasapi_bigtest">jasapi_bigtest</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JAS_XmlTest">JAS_XmlTest</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_RenderQuickLinks">JASAPI_RenderQuickLinks</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_SetTheme">JASAPI_SetTheme</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_SetDisplayHeaders">JASAPI_SetDisplayHeaders</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_SetDisplayQuickLinks">JASAPI_SetDisplayQuickLinks</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_SetIconTheme">JASAPI_SetIconTheme</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_MakeTable">JASAPI_MakeTable</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a  href="uj_xml.html#bJAS_MakeTable">bJAS_MakeTable</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>; p_JTabl_JTable_UID: ansistring):boolean;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_TableExist">JASAPI_TableExist</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a  href="uj_xml.html#bJAS_TableExist">bJAS_TableExist</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>; p_JTabl_JTable_UID: ansistring): boolean;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_ColumnExist">JASAPI_ColumnExist</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a  href="uj_xml.html#bJAS_ColumnExist">bJAS_ColumnExist</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>; p_JColu_JColumn_UID: ansistring):boolean;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_MakeColumn">JASAPI_MakeColumn</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a  href="uj_xml.html#bJAS_MakeColumn">bJAS_MakeColumn</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>; p_JColu_JColumn_UID: ansistring): boolean;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_RowExist">JASAPI_RowExist</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a  href="uj_xml.html#bJAS_RowExist">bJAS_RowExist</a></b>( p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>; p_UID: ansistring; p_JTabl_JTable_UID: ansistring ): boolean;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_FilterSaveDef">JASAPI_FilterSaveDef</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_MoveQuickLink">JASAPI_MoveQuickLink</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#jasapi_register">jasapi_register</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_CopyScreen">JASAPI_CopyScreen</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_NewConAndDB">JASAPI_NewConAndDB</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_DBMasterUtility">JASAPI_DBMasterUtility</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_SetDefaultSecuritySettings">JASAPI_SetDefaultSecuritySettings</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_CreateVirtualHost">JASAPI_CreateVirtualHost</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_DoesUserHaveJet">JASAPI_DoesUserHaveJet</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_JetBilling">JASAPI_JetBilling</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_GetValue">JASAPI_GetValue</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a  href="uj_xml.html#JASAPI_UserPrefHelp">JASAPI_UserPrefHelp</a></b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
</table>
<h2 class="description">Description</h2>
<h3 class="detail">Functions and Procedures</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_Dispatch"></a><code>procedure <b>JASAPI_Dispatch</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
Runs JASAPIXML functions - This function is called automatically by JAS from uxxj_jcore when the MIME type is execute/jasapi internally. This MIME type is set internally when a parameter named JASAPI is passed in the URI or in the POST data. The value is expected to be the name of the JASAPI function you are calling. Note.. There are two sorts of JAS API functions. Those in binary and those used here which are for accessing binary functions over the wire, and should be thought of as JASAPIXML functions. They are akin to webservices.

<p>See USERAPI_Dispatch for a similiar architecture and mechanism to make calls for user applications that work the same way.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="jasapi_helloworld"></a><code>procedure <b>jasapi_helloworld</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
JASAPIXML Function sends out xml with the payload being simply &quot;hello world&quot; inside an xml file formatted to be iwf friendly.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="jasapi_validatesession"></a><code>procedure <b>jasapi_validatesession</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
JASAPIXML Function Takes information from CGIENV and ascertains if the &quot;session&quot; is valid/logged in.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="jasapi_createsession"></a><code>procedure <b>jasapi_createsession</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
JASAPIXML Function user login mechanism</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="jasapi_removesession"></a><code>procedure <b>jasapi_removesession</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
JASAPIXML Function user logout mechanism</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="jasapi_bigtest"></a><code>procedure <b>jasapi_bigtest</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
JASAPIXML Function This is a JASAPI XML function that just produces a somewhat LARGE response just to cause a purposed heavy TRANSMISSION of data using the JASAPIXML function infrastructure.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JAS_XmlTest"></a><code>procedure <b>JAS_XmlTest</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
JASAPIXML Function This function just returns a XML response using the CreateIWFXML function but note this function has a random &quot;error&quot; component. Odds 1 out of 100. This was created to facilitate testing &quot;hitting&quot; the JAS server and having it occasionally simulate errors. The error message clearly states the error was randomly generated so you know if a real error occurred or a fake one.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_RenderQuickLinks"></a><code>procedure <b>JASAPI_RenderQuickLinks</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
RenderQuicklinks - returns the appropriate quicklinks rendered as an html unordered list with only the css class attribute of the top ul set to &quot;jas-menu&quot; (maybe jas-quicklinks if menu thing doesnt work out I'll make a special mod to all themes for the quicklink bit.) Current Session and Owner Ship of Links taken into account.

<p>Random Note: about the end goal to bring the xml api under the hood error status etc exactly like the html rendered one - so the same file logging infrastructure is utilized. We're close.. just not &quot;done&quot; yet. here is how the quicklinks xml apirender function does it:

<p>if the JAS_LOG hits this same field list.. then bring inline the same exact logging functions to the xml side and making those &quot;error&quot; or &quot;codes&quot; count systemically.. then - that's the right way.. so that's the direction for that. p_Context.bErrorCondition:=true; p_Context.u8ErrNo:=201012201638; p_Context.saErrMsg:='RenderQuickLinks - Trouble with Query.'; p_Context.saErrMsgMoreInfo:='Query: '+saQry;

<p>One other reminder - remember to make the log stuff that get's thunked to the database for management quick response etc happens after the page is served (for performance) before thread is recycled.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_SetTheme"></a><code>procedure <b>JASAPI_SetTheme</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
Returns a Theme Cookie - pass jastheme=name</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_SetDisplayHeaders"></a><code>procedure <b>JASAPI_SetDisplayHeaders</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
returns cookie JASDISPLAYHEADERS set to &quot;on&quot; or &quot;off&quot; based on value set. this ajax cookie stuff is more work than necessary as javascript could be used to handle such bits - but this approach allows for some neat things if they are stealing bandwidth etc during use to much.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_SetDisplayQuickLinks"></a><code>procedure <b>JASAPI_SetDisplayQuickLinks</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
returns cookie JASDISPLAYQUICKLINKS set to &quot;on&quot; or &quot;off&quot; based on value set. this ajax cookie stuff is more work than necessary as javascript could be used to handle such bits - but this approach allows for some neat things if they are stealing bandwidth etc during use to much.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_SetIconTheme"></a><code>procedure <b>JASAPI_SetIconTheme</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
returns cookie JASICONTHEME set to one of the icon themes' names. this ajax cookie stuff is more work than necessary as javascript could be used to handle such bits - but this approach allows for some neat things if they are stealing bandwidth etc during use to much.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_MakeTable"></a><code>procedure <b>JASAPI_MakeTable</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
make database table using data in jtable and jcolumn .?jasapi=maketable&amp;JTabl_JTable_UID=1000</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="bJAS_MakeTable"></a><code>function <b>bJAS_MakeTable</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>; p_JTabl_JTable_UID: ansistring):boolean;</code></td>
</tr>
<tr><td colspan="1">
<p>
make database table using data in jtable and jcolumn</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_TableExist"></a><code>procedure <b>JASAPI_TableExist</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
JASAPI_TableExist is identical to bJAS_TableExist except that its called using the JASAPI convention: jasapi=maketable which is AJAX friendly.

<p>JASAPI_???? Tend to be in uxxj_xml.pp while other &quot;JAS&quot; functions (actions) can be anywhere and are not guaranteed to return xml, they can be entire &quot;mini applications&quot; etc with HTML UI etc.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="bJAS_TableExist"></a><code>function <b>bJAS_TableExist</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>; p_JTabl_JTable_UID: ansistring): boolean;</code></td>
</tr>
<tr><td colspan="1">
&nbsp;</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_ColumnExist"></a><code>procedure <b>JASAPI_ColumnExist</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
JASAPI_ColumnExist is identical to bJAS_ColumnExist except that it is called using the JASAPI convention: jasapi=maketable

<p>JASAPI_???? Tend to be in uxxj_xml.pp while other &quot;JAS&quot; functions (actions) can be anywhere and are not guaranteed to return xml, they can be entire &quot;mini applications&quot; etc with HTML UI etc.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="bJAS_ColumnExist"></a><code>function <b>bJAS_ColumnExist</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>; p_JColu_JColumn_UID: ansistring):boolean;</code></td>
</tr>
<tr><td colspan="1">
<p>
return true or false if table's column exists for given connection Example:</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_MakeColumn"></a><code>procedure <b>JASAPI_MakeColumn</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
JASAPI_MakeColumn is identical to JAS_MakeColumn except that it takes jasapi=MakeColumn as then indication that is what is being requested versus cnAction_MakeColumn=56; The NAME (JASAPI) is kept to clearly indicate which functions use the JAS API, AJAX friendly paradigm to invoke them. JASAPI_???? Tend to be in uxxj_xml.pp while other &quot;JAS&quot; functions (actions) can be anywhere and are not guaranteed to return xml, they can be entire &quot;mini applications&quot; etc with HTML UI etc.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="bJAS_MakeColumn"></a><code>function <b>bJAS_MakeColumn</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>; p_JColu_JColumn_UID: ansistring): boolean;</code></td>
</tr>
<tr><td colspan="1">
<p>
returns true successful altering or creating DB column from data in the jcolumn table. Pass the Column UID of the column. Said column should be connected to an existing table and database connection.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_RowExist"></a><code>procedure <b>JASAPI_RowExist</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
example: .?jasapi=rowexist&amp;UID=1000&amp;JTabl_JTable_UID=1</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="bJAS_RowExist"></a><code>function <b>bJAS_RowExist</b>( p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>; p_UID: ansistring; p_JTabl_JTable_UID: ansistring ): boolean;</code></td>
</tr>
<tr><td colspan="1">
&nbsp;</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_FilterSaveDef"></a><code>procedure <b>JASAPI_FilterSaveDef</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
Makes a particular saved filter the users default by adding it to the jfiltersavedef table.

<p>example: .?jasapi=filtersavedef&amp;filtersave=1234</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_MoveQuickLink"></a><code>procedure <b>JASAPI_MoveQuickLink</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
Used to allow a user to click a button in jas to move a quicklink up or down (really left or right)</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="jasapi_register"></a><code>procedure <b>jasapi_register</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
User Registration with Email Verification</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_CopyScreen"></a><code>procedure <b>JASAPI_CopyScreen</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
URI Parameters: JTabl_JTable_UID = (SOURCE TABLE) JTable Record containing table or view you wish to make a copy of. Connection is figured out from this information. a data connection doesn't need to be active to make a screen for it.

<p>Name = (DESTINATION [new] NAME)

<p>This function might not belong in this unit - as it does it's task and returns an XML document - however because it is so integral to the User Interface - it's here.

<p>TODO: Move this to the JASAPI side of things and make it work using the extensible xml mechanisms. e.g. i01j_api_xml.pp</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_NewConAndDB"></a><code>procedure <b>JASAPI_NewConAndDB</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
pas parameter: NAME in URL for the name of the user,password and database. Note the permissions only allow access from localhost - this is why password scheme works. Makes new user, password and database and makes a JAS connection for it using same info. This routin passes back the JDConnection UID when successful or a ZERO if it failed. Note the connection IS NOT ENABLED so the next step to make the database etc would be to load the info into an instance of JDCON, Doo all you have to do then SAVE the connection as ENABLED and send the Cycle command into the JobQueue of the Squadron Leader databse.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_DBMasterUtility"></a><code>procedure <b>JASAPI_DBMasterUtility</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
Parameters: JDCon_JDConnection_UID: Database connection in source DB to use Name to use making a connection if JDCon_JDConnection_UID is ZERO on entry bLeadJet: If True treat as Master Database, otherwise like a JET database.

<p>Makes New Master databses or Jet databases and also upgrades existing databases.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_SetDefaultSecuritySettings"></a><code>procedure <b>JASAPI_SetDefaultSecuritySettings</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
This routine IS Only for Squadron leaders who know what they are doing. This is 100% destructive to ALL security Settings! It Sets Up defaults, deletes all existing everything for security, and then adds the default security groups, adds a ton of permissions for screens and tables and then assigns ALL permissions to ALL GROUPS! (Leaving a lot of labor to Do for the bloke who fired this puppy OFF!</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_CreateVirtualHost"></a><code>procedure <b>JASAPI_CreateVirtualHost</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
This is the JASAPI call that does the ENTIRE process of taking a JAS USER who DOES NOT have a JAS JET already and creates it start to finish and then emails the user with information to get in.

<p>This will be normally invoked from the JobQueue - as it takes awhile. Certain requirements need to be met for this process to work:

<p>Must have JAS Master Database User Account Account must have a JPerson record with a valid work email address.

<p>PARAMETERS name = name of alias, dir, domain servername = business name or title of CRM fromemailaddress = used when system sends email. firstname, lastname, workemail</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_DoesUserHaveJet"></a><code>procedure <b>JASAPI_DoesUserHaveJet</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
Parameters: None Returns: link to user's JAS Jet CRM if they have one setup, blank otherwise</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_JetBilling"></a><code>procedure <b>JASAPI_JetBilling</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
Handles daily updates to user records of folks owning JAS Jet's and on the first of the month turns values into the billable number of users to bill for the previous month. Note there is a Date Override for testing purposes.

<p>Check if Date is the First. Note this method might be problematic if the code doesn't run on the 1st of the month. We can use the Date Override though. This will be harder if code doesn't run on 1st but runs on second, in either case we can run a query to rollback the accumulator for all the JETs and then run this function as if it was the first. Downside, without more SQL efforts, we lost a day of &quot;user counting&quot; which works in customer's favor if don't run a process to recount for the said day. Again this routine's data override will assist.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_GetValue"></a><code>procedure <b>JASAPI_GetValue</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
This JASAPI call performs the exact function that the TJADO or TCONNECTION classes offer. Session Validation is performed. Also, the user needs to have READ PERMISSION for the juserpref table or the call will fail.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><a name="JASAPI_UserPrefHelp"></a><code>procedure <b>JASAPI_UserPrefHelp</b>(p_Context: <a  href="uj_context.TCONTEXT.html">TCONTEXT</a>);</code></td>
</tr>
<tr><td colspan="1">
<p>
This JASAPI call accepts a parameter named UID which is the UID for the juserpref table. In this table is the jhelp UID that we use to grab the html help for both the user and (if an admin) the admin help too, in the appropriate language for the user.</p>
</td></tr>
</table>
http://www.jegas.com
<hr noshade size="1"><span class="appinfo"><em>Generated by <a  href="http://pasdoc.sourceforge.net/">PasDoc 0.14.0</a>. </em>
</span>
</td></tr></table></body></html>
